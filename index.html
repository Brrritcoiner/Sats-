<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Satoshis per £1</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
body {
font-family: 'Arial', sans-serif;
background: #ffffff;
color: #2c3e50;
margin: 0;
padding: 0;
text-align: center;
}

header {
background-color: #F7931A;
color: white;
padding: 20px 10px;
}

h1 {
margin: 0;
font-size: 2.5em;
}

.price-display {
font-size: 2em;
margin-top: 10px;
color: #2c3e50;
}

.sats-display {
font-size: 3em;
font-weight: bold;
margin-top: 20px;
color: #F7931A;
}

.last-updated {
font-size: 0.9em;
color: #888;
}

section {
padding: 30px 10px;
max-width: 1000px;
margin: auto;
}

iframe {
border: none;
width: 100%;
}

.news-section {
height: 600px;
overflow: hidden;
margin-top: 40px;
}

@media (max-width: 600px) {
h1 {
font-size: 2em;
}

.price-display, .sats-display {
font-size: 1.8em;
}
}
</style>
</head>
<body>

<header>
<h1>Live Bitcoin Stats</h1>
</header>

<section>
<div class="price-display" id="btc-price">Loading BTC price...</div>
<div class="sats-display" id="sats">Loading sats per £...</div>
<div class="last-updated" id="updated"></div>
</section>

<section>
<h2>BTC/GBP Chart</h2>
<!-- TradingView Widget BEGIN -->
<div class="tradingview-widget-container">
<div id="tradingview_btc_chart" style="height:500px;"></div>
<script type="text/javascript" src="https://s3.tradingview.com/tv.js"></script>
<script type="text/javascript">
new TradingView.widget({
"width": "100%",
"height": 500,
"symbol": "BITSTAMP:BTCGBP",
"interval": "D",
"timezone": "Etc/UTC",
"theme": "light",
"style": "1",
"locale": "en",
"toolbar_bg": "#f1f3f6",
"enable_publishing": false,
"allow_symbol_change": false,
"container_id": "tradingview_btc_chart"
});
</script>
</div>
<!-- TradingView Widget END -->
</section>

<section class="news-section">
<h2>Latest Bitcoin News</h2>
<iframe src="https://cryptopanic.com/widgets/news/?bg_color=ffffff&font_family=sans&font_size=14&header_bg_color=f7931a&header_text_color=ffffff&link_color=000000&posts_limit=10" height="100%"></iframe>
</section>

<script>
async function fetchSatsPerPound() {
try {
const response = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=gbp');
const data = await response.json();
const btcPriceGBP = data.bitcoin.gbp;
const sats = Math.floor(100000000 / btcPriceGBP);
document.getElementById('btc-price').textContent = `£${btcPriceGBP.toLocaleString()}`;
document.getElementById('sats').textContent = `${sats.toLocaleString()} Sats to the £`;
document.getElementById('updated').textContent = `Updated: ${new Date().toLocaleTimeString()}`;
} catch (err) {
document.getElementById('btc-price').textContent = "Error fetching price.";
document.getElementById('sats').textContent = "-";
}
}

fetchSatsPerPound();
setInterval(fetchSatsPerPound, 60000); // update every minute
</script>

</body>
</html>
